(function(t){"use strict";t.fn.AcmeTicker=function(e){function n(){switch(l.type){case"vertical":case"horizontal":i();break;case"marquee":c();break;case"typewriter":o()}}function i(t=!1){function e(){if(u)return clearInterval(r),r=!1,!1;let e,o,a,f;e=s.find("li:first"),o="up"===c||"right"===c?"-=":"+=","horizontal"===l.type?(a="left",f=e.outerWidth(!0)):(a="margin-top",f=e.outerHeight(!0)),"prev"===t?s.find("li:last").detach().prependTo(s):e.detach().appendTo(s),s.find("li").css({opacity:"0",display:"none"}),s.find("li:first").css({opacity:"1",position:"absolute",display:"block",[a]:o+f+"px"}),s.find("li:first").animate({[a]:"0px"},n,function(){clearInterval(r),r=!1,i()})}let n=l.speed,o=l.autoplay,c=l.direction;if(t&&(n=0,o=0,clearInterval(r),r=!1),r)return!1;r=setInterval(e,o)}function o(t=!1){function e(){s.find("li:first").detach().appendTo(s),clearTimeout(a),a=!1,o()}function n(){d++;let t=h.substring(0,d);f.attr("data-text")||f.attr("data-text",h),d<=h.length?(p.text(t),f.css({opacity:"1",display:"block"})):(clearInterval(r),r=!1,a=setTimeout(e,c))}if(u)return!1;t&&(clearInterval(r),r=!1,clearTimeout(a),a=!1,"prev"===t?s.find("li:last").detach().prependTo(s):s.find("li:first").detach().appendTo(s));let i=l.speed,c=l.autoplay,f=s.find("li:first"),p=f.children(),d=0;f.attr("data-text")&&p.text(f.attr("data-text"));let h=f.text();s.find("li").css({opacity:"0",display:"none"}),r||(r=setInterval(n,i))}function c(){function e(){s.css({position:"absolute"}),s.find("li").css({display:"inline-block",marginRight:"10px"});let e=s.find("li");c=s.parent().outerWidth(!0),"right"===f&&(p="right"),s.width(1e4),e.each(function(){d+=t(this).outerWidth(!0)+5}),s.width(d),r=d+c,a=r/u,n(d,d/u)}function n(t,e){s.animate({[p]:"-="+t},e,"linear",function(){s.css({[p]:c}),n(r,a)})}function i(){let t=s.offset(),e="right"===f?d-t.left:t.left,i=e+d,o=i/u;n(i,o)}function o(){h=!h,t(document).trigger("acmeTickerToggle",s,h),h?s.stop():i()}let c,r,a,u=l.speed,f=l.direction,p="left",d=0,h=!1;e(),l.controls.toggle&&l.controls.toggle.on("click",function(t){o()}),l.pauseOnHover&&s.on("mouseenter",function(){s.stop()}).on("mouseleave",function(){i()}),l.pauseOnFocus&&s.on("focusin",function(){s.stop()}).on("focusout",function(){i()})}let r,a,l=t.extend({},t.fn.AcmeTicker.defaults,e),s=t(this),u=!1;if(s.wrap("<div class='acmeticker-wrap'></div>"),s.parent().css({position:"relative"}),s.children("li").not(":first").hide(),n(),"marquee"!==l.type){function f(){u||n()}l.controls.prev&&l.controls.prev.on("click",function(t){switch(t.preventDefault(),l.type){case"typewriter":o("prev");break;default:i("prev")}}),l.controls.next&&l.controls.next.on("click",function(t){switch(t.preventDefault(),l.type){case"typewriter":o("next");break;default:i("next")}}),l.controls.toggle&&l.controls.toggle.on("click",function(e){e.preventDefault(),u=!u,t(document).trigger("acmeTickerToggle",s,u),f()}),l.pauseOnHover&&s.on("mouseenter",function(){u=!0,f()}).on("mouseleave",function(){u=!1,f()}),l.pauseOnFocus&&s.on("focusin",function(){u=!0,f()}).on("focusout",function(){u=!1,f()})}},t.fn.AcmeTicker.defaults={type:"horizontal",autoplay:2e3,speed:50,direction:"up",pauseOnFocus:!0,pauseOnHover:!0,controls:{prev:"",next:"",toggle:""}}})(jQuery);